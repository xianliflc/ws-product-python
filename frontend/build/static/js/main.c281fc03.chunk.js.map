{"version":3,"sources":["component/Composed.js","utils/DateUtils.js","component/TableRenderer.js","component/DataTable.js","component/ClusterMap.js","component/index.js","App.js","serviceWorker.js","index.js"],"names":["Example","props","default_start_date","default_end_date","stats_daily_url","stats_hourly_url","filter_type","state","stats","myRef","React","createRef","myRef2","filter_type_ref","changeDate","bind","changeType","start_date","end_date","date1_ms","Date","getTime","difference_ms","Math","round","DateDifference","alert","base_url","this","axios","get","then","res","data","error","console","forEach","item","impressions","revenue","setState","getData","e","preventDefault","log","current","f","value","target","onSubmit","type","ref","onChange","name","width","height","margin","top","right","bottom","left","stroke","dataKey","label","position","offset","angle","barSize","PureComponent","CustomSearchRender","handleTextChange","event","onSearch","onKeyDown","keyCode","onHide","onKeyUp","clear","document","addEventListener","removeEventListener","classes","options","searchText","Grow","appear","in","timeout","className","main","el","rootRef","TextField","placeholder","InputProps","textLabels","toolbar","search","fullWidth","inputRef","searchField","IconButton","clearIcon","onClick","Component","withStyles","theme","display","flex","color","palette","updateState","text","searched_rows","Row","style","newProps","query","poi_name","toLowerCase","toString","indexOf","events","TableExample","poi_url","columns","filter","selectableRows","selectableRowsHeader","filterType","responsive","rowsPerPage","page","print","download","rowsPerPageOptions","caseSensitive","onTableChange","action","tableState","customSearch","searchQuery","currentRow","highlightRow","customSearchRender","handleSearch","hideSearch","clearSearch","customRowRender","key","poi","push","title","require","compose","withProps","withHandlers","withScriptjs","withGoogleMap","GoogleMap","Marker","MarkerClusterer","MapWithAMarkerClusterer","googleMapURL","loadingElement","containerElement","mapElement","onMarkerClustererClick","markerClusterer","defaultZoom","defaultCenter","lat","lng","averageCenter","enableRetinaIcons","gridSize","markers","map","marker","poi_id","lon","composedWrapper","composed","dataTableWapper","DataTable","clusterMap","ClusterMap","default_min_revenue","default_max_revenue","default_min_events","default_max_events","max_revenue_ref","min_revenue_ref","max_events_ref","min_events_ref","filterServer","min_revenue","max_revenue","min_events","max_events","JSON","stringify","NaN","parseInt","App","items","Object","keys","components","group","list","c","to","pathname","createElement","location","exec","component","length","renderPageDetail","renderList","Boolean","window","hostname","match","ReactDOM","render","path","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c281fc03.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport {\n  ComposedChart, Line, Area, Bar, XAxis, YAxis, CartesianGrid, Tooltip,\n  Legend,\n} from 'recharts';\nimport axios from 'axios';\nimport {DateDifference} from '../utils/DateUtils'\n\nexport default class Example extends PureComponent {\n    default_start_date = '2017-01-01'\n    default_end_date = '2017-01-07'\n    stats_daily_url = 'http://localhost:5000/stats/daily'\n    stats_hourly_url = 'http://localhost:5000/stats/hourly'\n    filter_type = 'daily'\n\n\tconstructor(props) {\n        super(props);\n        this.myRef = React.createRef();\n        this.myRef2 = React.createRef();\n        this.filter_type_ref = React.createRef();\n        this.changeDate = this.changeDate.bind(this)\n        this.changeType = this.changeType.bind(this)\n\t}\n\n    state = {\n        stats: [],\n    }\n\n    getData(start_date, end_date) {\n        const day_difference = DateDifference(start_date, end_date) + 1\n        if (day_difference > 7) {\n            alert('Range should be maximum of 7 days')\n            return\n        }\n        const base_url = this.filter_type === 'daily' ? this.stats_daily_url : this.stats_hourly_url\n        axios.get(`${base_url}?start_date=${start_date}&end_date=${end_date}`)\n            .then(res => {\n                if (res.data.data.error) {\n                    console.error(res.data.data.error)\n                }\n                res.data.data.forEach(item => {\n                    item.impressions = Math.round(item.impressions / 100)\n                    item.revenue = Math.round(item.revenue)\n                })\n\n            const stats = res.data.data;\n            this.setState({ stats });\n            \n        })\n    }\n\n    componentDidMount() {\n        this.getData(this.default_start_date, this.default_end_date, this.filter_type)\n    }\n\n    changeDate(e) {\n        e.preventDefault()\n        console.log(this.filter_type_ref, this.filter_type_ref.current.f)\n        this.getData(this.myRef.current.value, this.myRef2.current.value)\n    }\n\n    changeType(e) {\n        this.filter_type = e.target.value\n    }\n\n  render() {\n    return (\n        <div>\n            <form onSubmit={this.changeDate}>\n                <div>\n                    <input type=\"date\" ref={this.myRef} />\n                    <input type=\"date\" ref={this.myRef2} />\n                </div>\n                <div ref={this.filter_type_ref} onChange={this.changeType}>\n                    <input type=\"radio\" name=\"type\" value=\"daily\" /> daily\n                    <input type=\"radio\" name=\"type\" value=\"hourly\" /> hourly\n                </div>\n                <button type=\"submit\"> Submit </button>\n            </form>\n            <ComposedChart\n                width={1000}\n                height={900}\n                data={this.state.stats}\n                margin={{\n                top: 50, right: 80, bottom: 25, left: 50,\n                }}\n            >\n                <CartesianGrid stroke=\"#f5f5f5\" />\n                <XAxis dataKey=\"hour\" label={{ value: 'hour', position: 'insideBottomRight', offset: 0 }} />\n                <YAxis label={{ value: 'impressions (x100)', angle: -90, position: 'insideTopLeft' }} />\n                <Tooltip />\n                <Legend />\n                <Line type=\"monotone\" dataKey=\"impressions\" stroke=\"#8884d8\" />\n                <Line dataKey=\"clicks\" barSize={20} stroke=\"#413ea0\" />\n                <Line type=\"monotone\" dataKey=\"revenue\" stroke=\"#ff7300\" />\n            </ComposedChart>\n        </div>\n    );\n  }\n}\n","// import React, { Component } from 'react'\n\nexport function DateDifference(start_date, end_date) {\n  var one_day=1000*60*60*24;\n  var date1_ms = (new Date(start_date)).getTime();\n  var date2_ms = (new Date(end_date)).getTime();\n\n  var difference_ms = date2_ms - date1_ms;\n\n  return Math.round(difference_ms/one_day);\n}","import React from 'react';\nimport Grow from '@material-ui/core/Grow';\nimport TextField from '@material-ui/core/TextField';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst defaultSearchStyles = theme => ({\n    main: {\n        display: 'flex',\n        flex: '1 0 auto',\n    },\n    searchText: {\n        flex: '0.8 0',\n    },\n    clearIcon: {\n        '&:hover': {\n            color: theme.palette.error.main,\n        },\n    },\n});\n\nclass CustomSearchRender extends React.Component {\n    handleTextChange = event => {\n        // console.log(event.target, event.target.value)\n        this.props.onSearch(event.target.value);\n    };\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.onKeyDown, false);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.onKeyDown, false);\n    }\n\n    onKeyDown = event => {\n        if (event.keyCode === 27) {\n            this.props.onHide();\n        }\n    };\n\n    onKeyUp = event => {\n\n        if (event.keyCode === 8 && event.target.value === '') {\n            this.handleTextChange(event)\n            this.props.clear()\n        }\n    };\n\n    render() {\n        const { classes, options, onHide, searchText } = this.props;\n\n        return (\n        <Grow appear in={true} timeout={300}>\n            <div className={classes.main} ref={el => (this.rootRef = el)}>\n            <TextField\n                placeholder={'Search...'}\n                className={classes.searchText}\n                InputProps={{\n                    'aria-label': options.textLabels.toolbar.search,\n                }}\n                value={searchText || ''}\n                onChange={this.handleTextChange}\n                onKeyUp={this.onKeyUp}\n                fullWidth={true}\n                inputRef={el => (this.searchField = el)}\n            />\n            <IconButton className={classes.clearIcon} onClick={onHide}>\n                <ClearIcon />\n            </IconButton>\n            </div>\n        </Grow>\n        );\n    }\n}\n\nexport default withStyles(defaultSearchStyles, { name: 'CustomSearchRender' })(CustomSearchRender);","import React from 'react';\nimport MUIDataTable from 'mui-datatables';\nimport CustomSearchRender from './TableRenderer';\nimport axios from 'axios';\nfunction updateState(text){\n    console.log(text)\n    this.setState({searched_rows: text})\n}\n\nclass Row extends React.Component {\n\n    state = {\n        style: {'backgroundColor': '#ededed'},\n        searched_rows: '',\n        clear: false\n    }\n    \n    constructor(props) {\n        super(props);\n        this.myRef = React.createRef()\n        updateState = updateState.bind(this)\n    }\n\n    componentWillReceiveProps(newProps){\n        this.setState({searched_rows: newProps.query})\n    }\n\n    shouldComponentUpdate(){\n        return true\n    }\n\n    render () {\n        return (\n            <tr ref={this.myRef} style=\n                { (this.props.query && this.props.query !== '' && this.props.poi_name.toLowerCase().toString().indexOf(this.props.query.toLowerCase()) >= 0) ? \n                    {'backgroundColor': '#ff00ff'}\n                    :\n                    this.state.style\n                    \n                }>\n                <td></td>\n                <td>\n                    {this.props.poi_name}\n                </td>\n                <td>\n                    {this.props.events}\n                </td>\n                <td>\n                    {this.props.revenue}\n                </td>\n            </tr>\n        );\n    }\n}\n\nexport default class TableExample extends React.Component {\n    poi_url = 'http://localhost:5000/poi?include=revenue,events'\n    columns = [\n        {\n            'name':'POI Name',\n            'searchable': true,\n        }, \n        {\n            'name': 'No. of events',\n            'searchable': false,\n        },\n        {\n            'name': 'Revenue $',\n            'searchable': false,\n        }];\n    options = {\n        filter: true,\n        selectableRows: true,\n        selectableRowsHeader: false,\n        filterType: 'dropdown',\n        responsive: 'stacked',\n        rowsPerPage: 20,\n        page: 1,\n        print: false,\n        download: false,\n        rowsPerPageOptions: [],\n        caseSensitive: false,\n        onTableChange: (action, tableState) => {\n            // console.log(action, tableState, this.state)\n        },\n        customSearch: (searchQuery, currentRow, columns) => {\n            this.highlightRow(searchQuery)\n\n            return true\n        },\n        customSearchRender: (searchText, handleSearch, hideSearch, options) => {\n            return (\n                <CustomSearchRender\n                    searchText={searchText}\n                    onSearch={handleSearch}\n                    onHide={hideSearch}\n                    options={options}\n                    clear={this.clearSearch.bind(this)}\n                />\n            );\n        },\n        customRowRender: data => {\n            const [ poi_name, events, revenue] = data;\n\n            return (\n                <Row \n                    key={poi_name}\n                    poi_name={poi_name}\n                    events={events}\n                    revenue={revenue}\n                    query={this.state.searched_rows}\n                />\n            );\n        }\n    }\n\n    state = {\n        poi: []\n    }\n\n    clearSearch() {\n        this.setState({clear: true, searched_rows: ''})\n    }\n\n    highlightRow(text) {\n        this.setState({searched_rows: text, clear: false})\n    }\n\n    getData() {\n        axios.get(`${this.poi_url}`)\n        .then(res => {\n            let poi = []\n            if (res.data.data.error) {\n                console.error(res.data.data.error)\n            }\n    \n            res.data.data.forEach(item => {\n                poi.push([\n                    item['Poi Name'],\n                    item['events'],\n                    item['revenue']\n                ])\n            })\n\n            this.setState({ poi: poi });\n        })\n    }\n\n    componentDidMount() {\n        this.getData()\n    }\n\n    render () {\n        return (\n            <MUIDataTable\n                title={'Poi-revenue list'}\n                data={this.state.poi}\n                columns={this.columns}\n                options={this.options} \n            />\n        );\n    }\n}\n","import axios from 'axios'\nimport React from 'react'\nconst { compose, withProps, withHandlers } = require(\"recompose\")\nconst {\n    withScriptjs,\n    withGoogleMap,\n    GoogleMap,\n    Marker,\n} = require(\"react-google-maps\")\nconst { MarkerClusterer } = require(\"react-google-maps/lib/components/addons/MarkerClusterer\")\n\nconst MapWithAMarkerClusterer = compose(\n    withProps({\n        googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyAnKu85VSoJJASFOAP2K-sgQbsu6Hm9PoU&v=3.exp&libraries=geometry,drawing,places\",\n        loadingElement: <div style={{ height: `100%` }} />,\n        containerElement: <div style={{ height: `400px` }} />,\n        mapElement: <div style={{ height: `100%` }} />,\n    }),\n    withHandlers({\n        onMarkerClustererClick: () => (markerClusterer) => {\n            // const clickedMarkers = markerClusterer.getMarkers()\n        },\n    }),\n    withScriptjs,\n    withGoogleMap\n)(props =>\n    <GoogleMap\n        defaultZoom={4}\n        defaultCenter={{ lat: 43, lng: -79 }}\n    >\n        <MarkerClusterer\n        onClick={props.onMarkerClustererClick}\n        averageCenter\n        enableRetinaIcons\n        gridSize={60}\n        >\n            {props.markers.map(marker => (\n                <Marker\n                key={marker.poi_id}\n                position={{ lat: marker.lat, lng: marker.lon }}\n                />\n            ))}\n        </MarkerClusterer>\n    </GoogleMap>\n)\n\nexport default class ClusterMap extends React.PureComponent {\n    poi_url = 'http://localhost:5000/poi?include=revenue,events'\n    default_min_revenue = 0\n    default_max_revenue = 1000000000\n    default_min_events = 0\n    default_max_events = 1000000000\n\n    constructor(props) {\n        super(props);\n        this.max_revenue_ref = React.createRef();\n        this.min_revenue_ref = React.createRef();\n        this.max_events_ref = React.createRef();\n        this.min_events_ref = React.createRef();\n        this.filterServer = this.filterServer.bind(this)\n\n    }\n    \n    componentWillMount() {\n        this.setState({ markers: [] })\n    }\n\n    componentDidMount() {\n        this.getData(\n            this.default_min_revenue,\n            this.default_max_revenue,\n            this.default_min_events,\n            this.default_max_events\n        )\n    }\n\n    getData(min_revenue, max_revenue, min_events, max_events) {\n        axios.get(`${this.poi_url}&min_revenue=${min_revenue}&max_revenue=${max_revenue}&min_events=${min_events}&max_events=${max_events}`)\n        .then(res => {\n            if (res.data.data.error) {\n                alert(JSON.stringify(res.data.data.error))\n                console.error(res.data.data.error )\n            }\n            this.setState({ markers: res.data.data })\n        })\n    }\n\n    filterServer(e) {\n        e.preventDefault()\n        this.getData(\n            parseInt(this.min_revenue_ref.current.value) !== NaN ? parseInt(this.min_revenue_ref.current.value) : this.default_min_revenue,\n            parseInt(this.max_revenue_ref.current.value) !== NaN ? parseInt(this.max_revenue_ref.current.value) : this.default_max_revenue,\n            parseInt(this.min_events_ref.current.value) !== NaN ? parseInt(this.min_events_ref.current.value) : this.default_min_events,\n            parseInt(this.max_events_ref.current.value) !== NaN ? parseInt(this.max_events_ref.current.value) : this.default_max_events\n        )\n    }\n\n    render() {\n        return (\n            <div>\n                <form onSubmit={this.filterServer}>\n                    Min revenue <input type=\"text\" ref={this.min_revenue_ref} />\n                    Max revenue <input type=\"text\" ref={this.max_revenue_ref} />\n                    Min events <input type=\"text\" ref={this.min_events_ref} />\n                    Max events <input type=\"text\" ref={this.max_events_ref} />\n                    <button type=\"submit\"> Submit </button>\n                </form>\n                <MapWithAMarkerClusterer markers={this.state.markers} />\n            </div>\n        )\n    }\n}","\nimport composed from './Composed'\nimport DataTable from './DataTable'\nimport ClusterMap from './ClusterMap'\n\nexport default {\n    composedWrapper: {\n        composed,\n    },\n    dataTableWapper: {\n        DataTable,\n    },\n    clusterMap: {\n        ClusterMap\n    }\n};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport components from './component/index';\n\nclass App extends Component {\n  static propTypes = {\n    params: PropTypes.object,\n    location: PropTypes.object,\n  };\n\n  renderList() {\n    const items = Object.keys(components).map(key => {\n      const group = components[key];\n      const list = Object.keys(group).map((c) => {\n        return (\n          <li key={`component-${c}`}>\n            <Link to={{ pathname: '/', search: `?group=${key}&component=${c}` }}>{c}</Link>\n          </li>\n        );\n      });\n\n      return (\n        <div key={`group-${key}`} className=\"component-list-container\">\n          <p className=\"group-name\">{key}</p>\n          <ul className=\"component-list\">\n            {list}\n          </ul>\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"component-list-wrapper\">\n        <p className=\"title\">components</p>\n        {items}\n      </div>\n    );\n  }\n\n  renderPageDetail(group, page) {\n    return (\n      <div className=\"component-wrapper\">\n        <p className=\"back\"><Link to={{ pathname: '/' }}>Back to homepage</Link></p>\n        <p className=\"title\">{page}</p>\n        {\n          components[group] &&\n          components[group][page] ? React.createElement(components[group][page]) : null\n        }\n      </div>\n    );\n  }\n\n  render() {\n    const { location } = this.props;\n    const { search } = location;\n    const group = /group=([a-zA-Z]+)/.exec(search);\n    const component = /component=([a-zA-Z]+)/.exec(search);\n\n    if (group && group.length === 2 && component && component.length === 2) {\n      return this.renderPageDetail(group[1], component[1]);\n    }\n\n    return this.renderList();\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter, Route} from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\n// ReactDOM.render(<App />, document.getElementById('root'));\n\nReactDOM.render((\n    <BrowserRouter>\n      <Route path=\"/\" component={App} />\n    </BrowserRouter>\n  ), document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}